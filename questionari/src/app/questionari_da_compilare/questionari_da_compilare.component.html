<!--Questa pagina cambia in base al parametro "storico" (boolean)-->

<div *ngIf="!storico">
    <h3>Questionari che possono essere compilati dall'utente</h3>
</div>
<div *ngIf="storico">
    <h3>Storico dei questionari gi√† compilati</h3>
</div>

<button class="btn btn-dark" style="margin-right:5px;margin-top:10px;" (click)="refresh()"><i class="fa fa-sync"></i> Refresh</button>
<search (doSearch)="set_search_string($event)" [searchString]="searchString"></search>
<div style="background-color: #f8f9fa;float: left;width: 100%;margin-top:30px;">
    <div style="float: left;width: 25%;padding: .75rem 0px;text-align: center;font-weight: bold;">Progetto</div>
    <div style="float: left;width: 25%;padding: .75rem 0px;text-align: center;font-weight: bold;">Questionario</div>
    <div style="float: left;width: 20%;padding: .75rem 0px;text-align: center;font-weight: bold;" title="Data Compilazione">Data comp.</div>
    <div style="float: left;width: 10%;padding: .75rem 0px;text-align: center;font-weight: bold;" title="Stato Compilazione">Stato comp.</div>
    <div style="float: left;width: 10%;padding: .75rem 0px;text-align: center;font-weight: bold;" *ngIf="storico && currentUser.ruolo == '2'">Utente</div>
    <div style="float: left;width:10%;max-width:120px;padding: .75rem;text-align: center;font-weight: bold;">Azioni</div>
</div>
<div class="my-custom-scrollbar" style="float: left;width: 100%;">
    <table class="table table-striped">
        <thead style="display:none;">
            <th style="width:25%;">Progetto</th>
            <th style="width:25%;">Questionario</th>
            <th style="width:20%;">Data compilazione</th>
            <th style="width:10%;">Stato compilazione</th>
            <th style="width:10%;" *ngIf="storico && currentUser.ruolo == '2'">Utente</th>
            <th style="width:10%;max-width:120px">Azioni</th>
        </thead>
        <tbody>
            <tr table-quest-comp-row *ngFor="let q of quest_comp_visibili" [data]="q" [storico]="storico" (itemRemoved)="removeItem($event)" (itemCreated)="sendMsgQuestComp(q, 'Iniziata la compilazione')"></tr>
        </tbody>
    </table>
</div>