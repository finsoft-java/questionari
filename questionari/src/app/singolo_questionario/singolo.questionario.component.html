<div *ngIf="questionario == null">
    Loading...
</div>
<div *ngIf="questionario != null">

    <form style="margin-bottom:30px">
        <h3>Questionario</h3> <br>
        <h5>Dati Generali</h5> <br>
        <div class="row">
            <div class=" col">
                <label for="titolo_progetto">Titolo Questionario</label>
                <input type="text" class="form-control" id="titolo_progetto" placeholder="Titolo Questionario" [(ngModel)]="questionario.titolo" [ngModelOptions]="{standalone: true}">
            </div>
            <div class="col">
                <label for="stato_progetto">Stato</label>                
                <input type="checkbox" [(ngModel)]="questionario.flag_comune">
            </div>
            <div class="col">
                <label for="stato_progetto">Stato</label>                
                <select class="form-control" required  [(ngModel)]="questionario.stato" [ngModelOptions]="{standalone: true}">
                    <option *ngFor="let dati_stato_progetto of stato_questionario; index as i" value="{{i}}">
                        {{ dati_stato_progetto }}
                    </option>   
                </select>   
            </div>

            flag_comune
        </div>  
        <div><button class="btn btn-success" style="margin-right:5px;margin-top:10px;" (click)="updQuestionario(questionario)">Salva Progetto</button></div>      
    </form>


    Pagina singolo questionario<br>
    '{{questionario.titolo}}'<br>
    stato {{questionario.stato_dec}}
    <br><br>
    
    <div *ngIf="(questionario.sezioni.length > 0) && (sezione_corrente != null)">
            SEZIONE N. {{sezione_corrente.progressivo_sezione}} '{{sezione_corrente.titolo}}' <br>
            <div *ngFor="let domanda of sezione_corrente.domande; let i= index;">
                {{domanda.descrizione}}
                <div *ngFor="let risposta of domanda.risposte">
                        &gt;&gt; {{risposta.descrizione}}
                </div>
                <div>
                        <button (click)="duplicaDomanda(i)">Duplica domanda</button>
                        <button (click)="eliminaDomanda(i)">Elimina domanda</button>
                </div>
            </div>

 
    </div>           
    <div>
        <button (click)="creaDomanda()">Aggiungi nuova domanda</button>
        <button (click)="sezSuccessiva()">Sez. successiva</button>
        <button (click)="sezPrecedente()">Sez. precedente</button>
        <button (click)="creaSezione()">Crea sezione</button>
        <button (click)="duplicaSezioneCorrente()">Duplica sezione</button>
    </div>
    <div *ngIf="questionario.sezioni.length == 0">
            Questo questionario non ha ancora sezioni.
    </div>

</div>
